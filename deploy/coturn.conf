# Coturn TURN Server Configuration
# Optimized for Messenger Application

# Listener settings
listening-port=3478
tls-listening-port=3479

# Relay settings
min-port=49152
max-port=49252

# Authentication
lt-cred-mech
user=turnuser:changeme_turn_password
realm=messenger.local

# SSL/TLS (for production, uncomment and configure)
# cert=/etc/coturn/cert.pem
# pkey=/etc/coturn/key.pem

# Optimize for low-end hardware
total-quota=100
max-bps=1000000

# Logging
log-file=/var/log/coturn/turn.log
verbose

# Performance tuning
no-multicast-peers
no-cli
fingerprint

# Security
stale-nonce=600
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=127.0.0.0-127.255.255.255
denied-peer-ip=::1

# External IP (auto-detect or set manually)
# external-ip=YOUR_PUBLIC_IP

# Database (optional, for persistent users)
# psql-userdb="host=postgres dbname=messenger user=messenger password=changeme"

# Prometheus metrics (optional)
# prometheus
